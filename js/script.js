const form=document.getElementById("component-form"),firstName=document.getElementById("form-name"),lastName=document.getElementById("form-lastname"),email=document.getElementById("form-email"),psw=document.getElementById("form-psw"),btnSub=document.getElementById("form-submit"),firstNameErr=document.getElementById("form-name-err"),lastNameErr=document.getElementById("form-lastname-err"),emailErr=document.getElementById("form-email-err"),pswErr=document.getElementById("form-psw-err");let msgErrEmpty=" cannot be empty",msgErrSpaces=" cannot be only spaces",msgErrShort=" cannot be less than 2 letters long",msgErrLong=" cannot be more than 50 letters long",msgErrEmail="Looks like this is not an email",msgErrPsw="This is not a valid password";function formHandler(e){e.preventDefault();let r=!0,t=[firstNameValidation(),lastNameValidation(),emailValidation(),passwordValidation()];t.forEach((e=>{e.valState?(e.objErr.textContent="",e.obj.classList.remove("error"),e.obj.nextElementSibling.classList.add("hidden-icon")):(e.obj.value="",e.objErr.textContent=e.msgErr,e.obj.classList.add("error"),e.obj.setAttribute("placeholder",""),e.obj.nextElementSibling.classList.remove("hidden-icon"),r=!1)})),new Promise(((e,t)=>{r?setTimeout((()=>{e("Data sent")}),4e3):t("Input Error")})).then((e=>{t.forEach((r=>{"Password"!=r.name&&(r.obj.value=e)})),setTimeout((()=>{t.forEach((e=>{e.obj.value="",e.obj.setAttribute("placeholder",e.name)}))}),1e3)})).catch((e=>{console.error(e)}))}function firstNameValidation(){let e={name:"First Name",obj:firstName,objErr:firstNameErr,valState:!1,val:"",msgErr:""},r=firstName.value;return isEmpty(r)?e.msgErr=`${e.name} ${msgErrEmpty}`:isOnlySpaces(r)?e.msgErr=`${e.name} ${msgErrSpaces}`:isShorterThan(r,2)?e.msgErr=`${e.name} ${msgErrShort}`:isLongerThan(r,50)?e.msgErr=`${e.name} ${msgErrLong}`:(e.valState=!0,e.val=r),e}function lastNameValidation(){let e={name:"Last Name",obj:lastName,objErr:lastNameErr,valState:!1,val:"",msgErr:""},r=lastName.value;return isEmpty(r)?e.msgErr=`${e.name} ${msgErrEmpty}`:isOnlySpaces(r)?e.msgErr=`${e.name} ${msgErrSpaces}`:isShorterThan(r,2)?e.msgErr=`${e.name} ${msgErrShort}`:isLongerThan(r,50)?e.msgErr=`${e.name} ${msgErrLong}`:(e.valState=!0,e.val=r),e}function emailValidation(){let e={name:"Email",obj:email,objErr:emailErr,valState:!1,val:"",msgErr:""},r=email.value;return isEmpty(r)?e.msgErr=`${e.name} ${msgErrEmpty}`:isOnlySpaces(r)?e.msgErr=`${e.name} ${msgErrSpaces}`:isRegExCompliance(r,"[^@ \t\r\n]+@[^@ \t\r\n]+.[^@ \t\r\n]+")?(e.valState=!0,e.val=r):e.msgErr=`${msgErrEmail}`,e}function passwordValidation(){let e={name:"Password",obj:psw,objErr:pswErr,valState:!1,val:"",msgErr:""},r=psw.value;return isEmpty(r)?e.msgErr=`${e.name} ${msgErrEmpty}`:isOnlySpaces(r)?e.msgErr=`${e.name} ${msgErrSpaces}`:isRegExCompliance(r,"^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$")?(e.valState=!0,e.val=r):e.msgErr=`${msgErrPsw}`,e}function isEmpty(e){if(""==e)return!0}function isShorterThan(e,r){if(e.length<r)return!0}function isLongerThan(e,r){if(e.length>r)return!0}function isOnlySpaces(e){if(""==e.replace(/\s/g,""))return!0}function isRegExCompliance(e,r){return new RegExp(r).test(e)}window.addEventListener("keydown",(e=>{"Enter"===e.key&&e.preventDefault()})),firstName.addEventListener("focus",(()=>{firstName.classList.remove("error"),firstName.nextElementSibling.classList.add("hidden-icon")})),lastName.addEventListener("focus",(()=>{lastName.classList.remove("error"),lastName.nextElementSibling.classList.add("hidden-icon")})),email.addEventListener("focus",(()=>{email.classList.remove("error"),email.nextElementSibling.classList.add("hidden-icon")})),psw.addEventListener("focus",(()=>{psw.classList.remove("error"),psw.nextElementSibling.classList.add("hidden-icon")})),form.addEventListener("submit",formHandler);