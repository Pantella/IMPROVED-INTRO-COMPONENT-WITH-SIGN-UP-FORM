document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("component-form");let t=" cannot be empty",n=" cannot be only spaces",r=" cannot be less than 2 letters long",a=" cannot be more than 50 letters long",o="Looks like this is not an email",s="This is not a valid password";const l=Array.from(document.getElementsByTagName("input")).filter((e=>"submit"!=e.type));function m(e){if(""==e)return!0}function i(e,t){if(e.length<t)return!0}function c(e,t){if(e.length>t)return!0}function u(e){if(""==e.replace(/\s/g,""))return!0}function E(e,t){return new RegExp(t).test(e)}window.addEventListener("keydown",(e=>{"Enter"===e.key&&e.preventDefault()})),e.addEventListener("focusin",(e=>{let t=e.target;t.classList.remove("error"),t.nextElementSibling.classList.add("hidden-icon")})),e.addEventListener("submit",(function(e){e.preventDefault();let d=!0,g=l.map((e=>{let t={};return t.name=e.name.replace("-"," "),t.obj=e,t.objErr=e.parentElement.lastElementChild,t.valState=!1,t.val="",t.msgErr="",t})).map((e=>{switch(e.name){case"First Name":return function(e){let o=e.obj.value;m(o)?e.msgErr=`${e.name} ${t}`:u(o)?e.msgErr=`${e.name} ${n}`:i(o,2)?e.msgErr=`${e.name} ${r}`:c(o,50)?e.msgErr=`${e.name} ${a}`:(e.valState=!0,e.val=o);return e}(e);case"Last Name":return function(e){let o=e.obj.value;m(o)?e.msgErr=`${e.name} ${t}`:u(o)?e.msgErr=`${e.name} ${n}`:i(o,2)?e.msgErr=`${e.name} ${r}`:c(o,50)?e.msgErr=`${e.name} ${a}`:(e.valState=!0,e.val=o);return e}(e);case"Email":return function(e){let r=e.obj.value,a="[^@ \t\r\n]+@[^@ \t\r\n]+.[^@ \t\r\n]+";m(r)?e.msgErr=`${e.name} ${t}`:u(r)?e.msgErr=`${e.name} ${n}`:E(r,a)?(e.valState=!0,e.val=r):e.msgErr=`${o}`;return e}(e);case"Password":return function(e){let r=e.obj.value,a="^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$ %^&*-]).{8,}$";m(r)?e.msgErr=`${e.name} ${t}`:u(r)?e.msgErr=`${e.name} ${n}`:E(r,a)?(e.valState=!0,e.val=r):e.msgErr=`${s}`;return e}(e)}}));g.forEach((e=>{e.valState?(e.objErr.textContent="",e.obj.classList.remove("error"),e.obj.nextElementSibling.classList.add("hidden-icon")):(e.obj.value="",e.objErr.textContent=e.msgErr,e.obj.classList.add("error"),e.obj.setAttribute("placeholder",""),e.obj.nextElementSibling.classList.remove("hidden-icon"),d=!1)})),new Promise(((e,t)=>{d?setTimeout((()=>{e("Data sent")}),4e3):t("Input Error")})).then((e=>{g.forEach((t=>{"Password"!=t.name&&(t.obj.value=e)})),setTimeout((()=>{g.forEach((e=>{e.obj.value="",e.obj.setAttribute("placeholder",e.name)}))}),1e3)})).catch((e=>{console.error(e)}))}))}));